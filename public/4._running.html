<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Node.js Mandatory Assignment</title>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link rel="stylesheet" type="text/css" href="css/style.css" />
    </head>
    <body>
        <div id="main">
            <div id="leftBar"> <!-- starts left section -->
                <div class=sidenav>
                    <div class="container-logo">
                       <a href="index" class="w3-padding w3-large w3-blue w3-center">
                        <i class="fa fa-home"></i>
                           Node.js</a>
                   </div>
                    <p class="caption">
                        <span class="caption-text">Contents: </span>
                    </p>
                    <ul style="list-style-type:none;">
                        <li><a href="node">What's node.js?</a></li>
                        <li><a href="terminal">Using the command line</a></li>
                        <li><a href="install">Setting up node</a></li>
                        <li><a href="running">Running Node.js</a></li>
                        <li><a href="js-basics">Javascript basics</a></li>
                        <li><a href="jquery">jQuery</a></li>
                        <li><a href="requests">Http requests</a></li>
                    </ul>
                </div>
            </div> <!-- ends left section-->
            <!-- center section -->
            <div id="content" class="inner">
                <div id="header"><span id="left"><span id="right">(...)</span></span></div>
                <hr>
                <div id="body">
                    <h2>Running Node</h2>
                    <p>Having installed node and express, it is now time to create the app file which for this
                        project it's simply called, app.js  It is created inside the project folder.
                    </p>
                    The first lines of code are used to import the express dependency needed for the webapp. This is how it
                    is done.
                    </p>
                    <figure>
                        <img src="images/8._import_express.png" alt="express" class="images">
                        <figcaption id="figcaption">Fig.5 import express dependency</figcaption>
                    </figure>
                    <h3>Run a webserver</h3>
                    <p>
                        For testing purposes a simple webserver is run to make sure it is properly set up. 
                    </p>
                    <figure>
                        <img src="images/10._test_server.png" alt="test-server" class="images">
                        <figcaption id="figcaption">Fig.6 port listenning defined</figcaption>
                </figure>
                    <p>To make the code more readable, the bottom lines of the app.js file are dedicated to define which port number will the server be 
                        listenning to. This app starts a server and listen to connections on port 3000. The app responds with a "test server" to requests
                    to the root URL (/) or <b>route</b>. For every other path it will respond with a <b>404 Not Found</b></p>
                    <figure>
                            <img src="images/9._listen_port.png" alt="port-listen" class="images">
                            <figcaption id="figcaption">Fig.7 port listenning defined</figcaption>
                    </figure>
                    
                    <p>Now, at the command line the following is typed and it is confirmed that the server is running</p>
                    <figure>
                        <img src="images/11._run_node.png" alt="run-node" class="images">
                        <figcaption id="figcaption">Fig.8 test if server is running</figcaption>
                    </figure>

                    <h3>Loading static files</h3>
                    <p>For this project there are static files like the css style file that needs to be loaded so the html contents styling can
                        be properly displayed on the web browser. 
                    </p>
                    <figure>
                        <img src="images/12._static_files.png" alt="static" class="images">
                        <figcaption id="figcaption">Fig.9 load static files</figcaption>
                    </figure>
                    <h3>Serving files</h3>
                    <p>The rest of the code in the app.js file will be reserved for serving each html file, scripts
                        and styling.
                        Using node and express the following figure gives an example how to serve a single html file
                        The same is done for every html file, making sure the correct paths are written and that are 
                        accessible.
                    </p>
                    <figure>
                        <img src="images/13._serve_files.png" alt="serve" class="images">
                        <figcaption id="figcaption">Fig.10 serving a file</figcaption>
                    </figure>
                    <p>Then it is ready to be displayed on the browser, following the path defined.</p>
                    <h3>Utilities: Nodemon</h3>
                    <p>Nodemon is a tool that is very useful for development. It detects any changes in the source code 
                        and automatically restarts the server, so it is not necessary to restart it manually each time.
                        This utility is installed globally as it is going to be always used from now on.
                    </p>
                    <figure>
                        <img src="images/14._nodemon.png" alt="serve" class="images">
                        <figcaption id="figcaption">Fig.11 intalling nodemon</figcaption>
                    </figure>
                    <figure>
                        <img src="images/15._run_nodemon.png" alt="serve" class="images">
                        <figcaption id="figcaption">Fig.12 run the app using nodemon</figcaption>
                    </figure>
                </div>
                <hr>
                <div id="footer">Pedro Palma | 2020</div>
            </div> <!-- ends center section-->
            <!-- starts right section -->
                <div id="rightBar"></div>
        </div>   
    </body>
    <!-- jquery to expand view horizontally if pressed-->
    <script>
    $("#left").click(function () {
        $("#leftBar").toggle();
       })
       $("#right").click(function () {
        $("#rightBar").toggle();
       })
    </script>
</html>